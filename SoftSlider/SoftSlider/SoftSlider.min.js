(function(n){n.SoftSlider||(n.fn.SoftSlider=function(t){if(this.length>1)return this.each(function(){n(this).SoftSlider(t)}),this;var i=this,r=n(i),u=function(t){var r=[i.Slides],u;for(i.Options.thumbnails.visible&&r.push(n("> *",i.Options.thumbnails.element)),i.Options.markers.visible&&r.push(n("> *",i.Options.markers.element)),u=0;u<r.length;u++)t==i.Slides.length?r[u].removeClass("active").first().addClass("active"):r[u].removeClass("active").eq(t).addClass("active");i.CurrentSlideIndex=t>=i.Slides.length?0:t<0?i.Slides.length-1:t};return i.Options=n.extend(!0,{slider:{width:r.width(),height:r.height(),startIndex:1,slideLimit:0,randomStart:!1,randomSlide:!1,beforeLoad:function(){},onLoad:function(){}},slides:{width:typeof t!="undefined"&&typeof t.slider!="undefined"&&typeof t.slider.width!="undefined"?t.slider.width:null||r.width(),height:typeof t!="undefined"&&typeof t.slider!="undefined"&&typeof t.slider.height!="undefined"?t.slider.height:null||r.height(),cloneSize:1,center:!0},animation:{type:"marquee",easing:"swing",duration:3e3,speed:750,autoPlay:!0,pauseOnHover:!0,vertical:!1,reserve:!1,onStart:function(){},onComplete:function(){}},markers:{visible:!0,event:"click",element:n(".SoftSlider-Markers",i)},thumbnails:{visible:!1,event:"mouseover",element:n(".SoftSlider-Thumbnails",i)},controls:{visible:!0,event:"click",prevText:"Previous",nextText:"Next",element:{prev:n(".SoftSlider-Controls .prev",i),next:n(".SoftSlider-Controls .next",i)}}},t),i.Initialized=!1,i.Slider=null,i.Wrapper=null,i.Slides=null,i.SlidesWithClone=null,i.CloneLength=null,i.Animating=null,i.Paused=null,i.ActiveTimer=null,i.CurrentSlideIndex=null,i.OldSlideIndex=null,i.Play=function(n,t,r,u,f,e){return i.Options.animation.duration=t||i.Options.animation.duration,i.Options.animation.autoPlay=!0,i.Paused=!1,clearTimeout(i.ActiveTimer),i.ActiveTimer=setTimeout(function(){if(i.ActiveTimer=null,n)i.Slide(n,r,u,f,e);else{for(var t=i.Options.slider.randomSlide?Math.floor(Math.random()*i.Slides.length):i.CurrentSlideIndex+1;t==i.CurrentSlideIndex;)t=Math.floor(Math.random()*i.Slides.length);i.Slide(t,r,u,f,e)}},i.Options.animation.duration),i},i.Pause=function(){return i.Paused=!0,clearTimeout(i.ActiveTimer),i},i.Prev=function(n,t){return i.Slide(i.CurrentSlideIndex+(i.Options.animation.reserve?1:-1),null,null,n,t),i},i.Next=function(n,t,r,u){return i.Slide(i.CurrentSlideIndex+(i.Options.animation.reserve?-1:1),null,null,r,u),i},i.Slide=function(n,t,r,f,e){var o,s;return i.Animating||(o=i.Options.animation.type=="marquee"?i.CloneLength/2+n:n>=i.Slides.length?0:n,i.OldSlideIndex=i.CurrentSlideIndex,f&&f.call(i,o,t,r,f,e),i.Options.animation.onStart.call(i,o,t,r,f,e),u(n),i.Animating=!0,s=function(){i.Animating=!1,i.Options.animation.autoPlay&&!i.Paused&&i.Play(),e&&e.call(i,o,t,r,f,e),i.Options.animation.onComplete.call(i,o,t,r,f,e)},i.Options.animation.type=="marquee"?i.Slider.animate({left:i.Options.animation.vertical?0:-i.Options.slides.width*(i.CloneLength/2+n),top:i.Options.animation.vertical?-i.Options.slides.height*(i.CloneLength/2+n):0},r||i.Options.animation.speed,t||i.Options.animation.easing,function(){n>=i.Slides.length?i.Slider.css({left:i.Options.animation.vertical?0:-i.Options.slides.width*i.CloneLength/2,top:i.Options.animation.vertical?-i.Options.slides.height*i.CloneLength/2:0}):n<0&&i.Slider.css({left:i.Options.animation.vertical?0:-i.Options.slides.width*(i.CloneLength/2+i.Slides.length-1),top:i.Options.animation.vertical?-i.Options.slides.height*(i.CloneLength/2+i.Slides.length-1):0}),s()}):(i.Slides.eq(i.OldSlideIndex).css("z-index",0).fadeOut(r*.7||i.Options.animation.speed,t||i.Options.animation.easing),i.Slides.eq(o).css("z-index",1).fadeIn(r||i.Options.animation.speed,t||i.Options.animation.easing,function(){s()}))),i},i.Setup=function(){var f,e,t,o;if(i.Initialized)return i;if(i.Initialized=!0,i.Options.slider.beforeLoad.call(i),i.Slider=n(".SoftSlider",i),i.Wrapper=i.Slider.wrap("<div/>").parent().addClass("SoftSlider-Wrapper").css({width:i.Options.slider.width,height:i.Options.slider.height,position:"relative",overflow:"hidden"}),i.Slides=n("> *",i.Slider),i.Animating=!1,i.Paused=!1,i.CurrentSlideIndex=i.Options.slider.randomStart||i.Options.slider.randomSlide?Math.floor(Math.random()*i.Slides.length):i.Options.slider.startIndex-1,i.Options.slideLimit>0&&n(".SoftSlider > *",i).eq(i.Options.slideLimit-1).nextAll().remove(),i.Options.animation.type=="marquee"){for(f=0;f<i.Options.slides.cloneSize;f++)e=i.Slides.clone().attr("data-type","clone"),i.Slider.prepend(e).append(e.clone());i.SlidesWithClone=n("> *",i.Slider).css({width:i.Options.slides.width,height:i.Options.slides.height,position:"relative",float:"left"}),i.CloneLength=i.SlidesWithClone.length-i.Slides.length,i.Slider.css({width:i.Options.animation.vertical?i.Options.slides.width:i.Options.slides.width*i.SlidesWithClone.length,height:i.Options.animation.vertical?i.Options.slides.height*i.SlidesWithClone.length:i.Options.slides.height,position:"absolute",left:i.Options.animation.vertical?0:-i.Options.slides.width*(i.CloneLength/2+i.CurrentSlideIndex),top:i.Options.animation.vertical?-i.Options.slides.height*(i.CloneLength/2+i.CurrentSlideIndex):0,"margin-left":i.Options.animation.vertical?0:i.Options.slides.center?-(i.Options.slides.width-i.Options.slider.width)/2:0,"margin-top":i.Options.animation.vertical?i.Options.slides.center?-(i.Options.slides.height-i.Options.slider.height)/2:0:0})}else i.Slider.css({width:i.Options.slider.width,height:i.Options.slider.height}),i.Slides.css({width:i.Options.slides.width,height:i.Options.slides.height,position:"absolute",display:"none"}),i.Slides.eq(i.CurrentSlideIndex).show();if(i.Options.thumbnails.visible?(i.Options.thumbnails.element.length?r.has(".SoftSlider-Thumbnails")&&(i.Options.thumbnails.element=n(".SoftSlider-Thumbnails",i).appendTo(i.Wrapper)):(i.Options.thumbnails.element=n(".SoftSlider-Thumbnails",i.Wrapper.append('<ul class="SoftSlider-Thumbnails"/>')),i.Slides.each(function(){i.Options.thumbnails.element.append(n("<li/>").html(n("img",this).clone()))})),n("> *",i.Options.thumbnails.element).bind(i.Options.thumbnails.event,function(){n(this).index()!=i.CurrentSlideIndex&&(i.Animating&&(i.Options.animation.type=="fade"?i.Slides.eq(i.CurrentSlideIndex).stop(!0,!0):i.Slider.stop(),i.Animating=!1),i.Slide(n(this).index(),i.Options.thumbnails.event=="mouseover"?"linear":null))}),i.Options.thumbnails.element.show().css({"z-index":"1"})):i.Options.thumbnails.element.length&&i.Options.thumbnails.element.remove(),i.Options.markers.visible){if(i.Options.markers.element.length)r.has(".SoftSlider-Markers")&&(i.Options.markers.element=n(".SoftSlider-Markers",i).appendTo(i.Wrapper));else for(i.Options.markers.element=n(".SoftSlider-Markers",i.Wrapper.append('<ul class="SoftSlider-Markers"/>')),t=1;t<=i.Slides.length;t++)i.Options.markers.element.append("<li>"+t+"<\/li>");n("> *",i.Options.markers.element).bind(i.Options.markers.event,function(){n(this).index()!=i.CurrentSlideIndex&&(i.Animating&&(i.Options.animation.type=="fade"?i.Slides.eq(i.CurrentSlideIndex).stop(!0,!0):i.Slider.stop(),i.Animating=!1),i.Slide(n(this).index(),i.Options.markers.event=="mouseover"?"linear":null))}),i.Options.markers.element.show().css({"z-index":"1"})}else i.Options.markers.element.length&&i.Options.markers.element.remove();return i.Options.controls.visible?(i.Options.controls.element.prev.length&&i.Options.controls.element.next.length?r.has(".SoftSlider-Controls")&&(i.Options.controls.element=n(".SoftSlider-Controls",i).appendTo(i.Wrapper)):(o=n(".SoftSlider-Controls",i.Wrapper.append('<div class="SoftSlider-Controls"><div class="prev">'+i.Options.controls.prevText+'<\/div><div class="next">'+i.Options.controls.nextText+"<\/div><\/div>")),i.Options.controls.element.prev=n(".prev",o),i.Options.controls.element.next=n(".next",o)),n(i.Options.controls.element.prev).bind(i.Options.controls.event,function(){return i.Prev(),!1}),n(i.Options.controls.element.next).bind(i.Options.controls.event,function(){return i.Next(),!1}),i.Options.controls.element.next.parent().css("z-index","1"),i.Options.controls.element.prev.show(),i.Options.controls.element.next.show()):(i.Options.controls.element.prev.length||i.Options.controls.element.next.length)&&(i.Options.controls.element.prev.remove(),i.Options.controls.element.next.remove()),i.Options.animation.pauseOnHover&&i.Options.animation.autoPlay&&r.mouseenter(function(){i.Pause()}).mouseleave(function(){i.Play()}),u(i.CurrentSlideIndex),i.Slider.show(),i.Options.animation.autoPlay&&i.Play(),i.Options.slider.onLoad.call(i),i},i})})(jQuery);